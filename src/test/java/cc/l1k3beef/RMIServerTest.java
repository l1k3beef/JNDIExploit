package cc.l1k3beef;

import org.junit.Test;

import javax.naming.InitialContext;

import static org.junit.Assert.fail;

/**
 * Unit test for simple App.
 */
public class RMIServerTest {

    @Test
    public void bypassWithTomcat() {
        try {
            int httpPort = 7777;
            int rmiPort = 8888;
            CodeBaseServer.start("localhost", httpPort);
            RMIServer.start(rmiPort, "localhost", httpPort, "tomcat");
            InitialContext context = new InitialContext();
            context.lookup("rmi://localhost:8888/Payload");
        } catch (Exception e) {
            e.printStackTrace();
            fail();
        }
    }
}
